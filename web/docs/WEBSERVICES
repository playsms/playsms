WEBSERVICES ACCESS
------------------

URL: http://[playSMS_web_domain_or_url]/index.php?app=webservices


PARAMETERS
----------

u	: username
h	: webservices token

ta	: type of action
	  for example:
	    pv 		: send private
	    bc 		: send broadcast
	    ds 		: delivery status
	    sms_poll 	: poll results from plugin sms_poll
	    sms_board 	: board results from plugin sms_board

to	: destination numbers (for ta=pv) or destination group code (for ta=bc)
          multiple destination numbers (seperated by comma) can be used when ta=pv
          
msg	: message
type 	: message type (flash or text)
unicode : whether message unicode or not (1=unicode, 0=not unicode)

last 	: last SMS log ID (this number not included on result)
c	: number of delivery status that will be retrieved
slid	: SMS Log ID (for ta=ds, when slid defined 'last' and 'c' has no effect)


ERROR RETURNS
-------------

Successful actions:

OK                                    : action successfully executed and returns nothing
                                        this is only when "ta=bc"
OK [SMS_LOG_ID],[QUEUE_CODE]          : action successfully executed and returns an SMS Log ID
                                        and Queue Code
OK [NUMBER],[SMS_LOG_ID],[QUEUE_CODE] : action successfully executed and returns destination
                                        number, it's SMS Log ID and it's Queue Code
                                        this is only when "ta=pv" and "to" contains multiple
                                        destinations
OK [CREDIT]                           : action successfully executed and returns user's credit

Unsuccessful actions:

ERR 100 : authentication failed
ERR 101 : type of action not valid
ERR 102 : one or more field empty
ERR 103 : not enough credit for this operation
ERR 200 : send private failed
ERR 201 : destination number or message is empty
ERR 300 : send broadcast failed
ERR 301 : destination group or message is empty
ERR 400 : no delivery status retrieved

There might appear new error codes in the future, you should be aware that new
 codes might appear with this syntax.

ERR 1xx: authentication or parameter erorrs
ERR 2xx: specific pv errors
ERR 3xx: specific bc errors
ERR 4xx: delivery status errors


PROTOCOL
--------

1. Send SMS
    ta		: pv
    parameters	: u, h, to, msg, type, unicode
    returns	: error returns
    notes	: to parameter is a valid international formatted mobile number

2. Send broadcast SMS
    ta		: bc
    parameters	: u, h, to, msg, type, unicode
    returns	: error returns
    notes	: to parameter is group code

3. Delivery reports
    ta		: ds
    parameters	: u, h, slid, c, last
    returns	: formatted text:
		  SMS log ID; Source number; Destination Number; Message; Delivery Time;
		  Update Pending Status Time; SMS Status
    notes	: slid retrieves only 1 delivery report at particular SMS log ID
		  c retrieves as many as c value
		  last retrieves from last SMS log ID

4. User credits
    ta          : cr
    parameters  : u, h
    returns     : user's credit


EXAMPLE
-------

Webservice URL:
http://x.com/index.php?app=webservices&ta=cr&u=admin&h=b09ba37b03b21e4ffb99b6d4ece735c1

Explanation:
User admin accessed playSMS webservices in x.com with type of action cr (User credits)
if succeded returns: OK <user's credits> (eg: OK 4500)
if error occured returns one of the ERROR RETURNS mentioned above


--
Anton Raharja
